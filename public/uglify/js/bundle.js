"use strict";function GetRequest(e,t){var n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];void 0!=t?xhr.open("GET",e+t):xhr.open("GET",e),xhr.send(null),xhr.onload=function(){return n(xhr.status,xhr.responseText)}}function PostRequest(e,t,n){var o=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];t=JSON.stringify(t),xhr.open("POST",e),xhr.setRequestHeader("Content-Type",n),xhr.send(t),xhr.onload=function(){return o(xhr.status,xhr.responseText)}}function GetCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function DeleteCookies(){console.log("this is running");for(var e="expires=Thu, 01 Jan 1970 00:00:00 GMT;",t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].split("=")[0];document.cookie=o+"=;"+e}}var xhr=new XMLHttpRequest;
"use strict";function InitMap(){festivalMap=new google.maps.Map(document.getElementById("festivals-map"),{center:{lat:39.244785,lng:-105.511852},zoom:8})}function FestivalsLoad(){GetRequest("/getFestivals",void 0,function(e,t){if(200==e)for(var n=JSON.parse(t),o=n.events,a=document.getElementById("festivals"),i=0;i<o.length;i++){var r=document.createElement("div"),l=document.createElement("li"),s=document.createElement("h1"),d=document.createElement("p");s.textContent=o[i].title,d.textContent=o[i].location,l.appendChild(s),l.appendChild(d),r.appendChild(l),"N/A"!=o[i].location&&(marker.push(CreateMarker(o[i])),r.setAttribute("value",o[i]._id),r.setAttribute("id",i),r.setAttribute("onmouseover","OpenInfoWindow( this.getAttribute( 'value' ), this.getAttribute( 'id' ) )")),a.appendChild(r)}})}function OpenInfoWindow(e,t){null!=previousID&&(document.getElementById(previousID).style.color="#000000"),previousID=t,document.getElementById(t).style.color="#872d2e";for(var n=0;n<marker.length;n++)if(e==marker[n]._id){google.maps.event.trigger(marker[n],"click");break}}function CreateMarker(e){var t=new google.maps.Marker({map:festivalMap,position:new google.maps.LatLng(e.latitude,e.longitude)});t._id=e._id;var n="<h3>"+e.title+"</h3><p> <strong>Date:</strong> "+e.date+"</p> <p><strong>Location:</strong> "+e.location+"</p><a target='_blank' href = '"+e.url+"'> More Info </a>";return t.infoWindow=new google.maps.InfoWindow({content:n}),google.maps.event.addListener(t,"click",function(){lastMarker&&lastMarker.infoWindow.close(),lastMarker=t,t.infoWindow.open(festivalMap,t)}),t}var festivalMap,lastMarker,marker=[],previousID;window.onload(function(){InitMap(),FestivalsLoad(),IsLoggedIn()});
"use strict";function Login(){var e={email:null,password:null};e.email=document.getElementById("email").value,e.password=document.getElementById("password").value,PostRequest("/auth/login",e,"application/json",function(e,o){if(200==e){var n=new Date(Date.now());n.setHours(n.getHours()+1);var t=JSON.parse(o);for(var s in t)document.cookie=s+"="+t[s]+";expires="+n.toUTCString()+";";console.log(GetCookie("username")),window.open("/user/"+o.username,"_parent")}else console.log("error")})}
"use strict";function IsLoggedIn(){GetRequest("/api/me",void 0,function(e,i){console.log("testing "+e),200==e&&(document.getElementById("logout-button").style.display="inline-block")})}function Home(){GetRequest("/api/me",void 0,function(e,i){var n=JSON.parse(i);200==e?window.open("/user/"+n.username,"_parent"):window.open("/","_parent")})}function Logout(){DeleteCookies(),window.open("/auth/logout","_parent")}document.getElementById("navigation-bar").innerHTML="<ul><li><button onclick='Home();' id='home-link'>Home</button></li><li><a id='recipes-link' href='/recipes'>Recipes</a></li><li><a id='festivals-link' href='/festivals'>Festivals</a></li></ul>";
"use strict";function RecipeSubmissionLoad(){GetRequest("/recipes/getallbeertypes",void 0,function(e,n){if(200===e){var t=JSON.parse(n),s=document.getElementById("beer-type-selection"),l=document.createElement("option");l.innerHTML="-- Select One --",l.value=null,s.appendChild(l);for(var i=0;i<t.length;i++){var o=document.createElement("option");o.innerHTML=t[i].alias,o.value=t[i].alias,s.appendChild(o)}}})}function SubmitRecipe(){var e={alias:null,description:null,category:null,instructions:null};e.alias=document.getElementById("alias").value,e.description=document.getElementById("description").value,e.category=document.getElementById("beer-type-selection").value,e.instructions=document.getElementById("instructions").value,PostRequest("/createrecipe",e,"application/json",function(e,n){200!=e?(document.getElementsByClassName("message")[0].style.color="red",document.getElementsByClassName("message")[0].innerHTML=n):(document.getElementsByClassName("message")[0].style.color="green",document.getElementsByClassName("message")[0].innerHTML=n)})}window.onload(function(){RecipeSubmissionLoad(),IsLoggedIn()});
"use strict";function RecipesLoad(){GetRequest("/getallbeertypes",void 0,function(e,t){if(200==e){beerList=JSON.parse(t);for(var n=document.getElementById("beers"),l=document.createDocumentFragment(),s=0;s<beerList.length;s++){var i=document.createElement("li"),o=document.createElement("BUTTON");i.textContent=beerList[s].alias,o.appendChild(i),o.setAttribute("value",s),o.setAttribute("name",beerList[s].alias),o.setAttribute("onclick","MoreInfo( this.getAttribute( 'value' ) )"),o.className="beer-buttons",l.appendChild(o)}n.appendChild(l)}else console.log(beerList.message)})}function MoreInfo(e){GetRequest("/beer/",beerList[e].alias,function(t,n){if(console.log(n.length),200==t){document.getElementById("user-recipes").innerHTML="";var l=document.getElementById("user-recipes"),s=document.createDocumentFragment(),i=n;console.log(i),document.getElementById("title").textContent=beerList[e].alias,document.getElementById("about").textContent=beerList[e].about,document.getElementById("abv").textContent=beerList[e].abv;for(var o=0;o<i.length;o++){var r=document.createElement("button"),d=document.createElement("li");d.textContent=i[o].alias,r.appendChild(d),r.className="recipe-buttons",s.appendChild(r)}l.appendChild(s),document.getElementById("beer-list").style.display="none",document.getElementById("recipes").style.display="block"}})}function CloseBeerWindow(){document.getElementById("beer-list").style.display="inline-block",document.getElementById("recipes").style.display="none"}function SearchBeerList(e){if(""!=e)for(var t=0;t<beerList.length;t++){var n=beerList[t].alias.toLowerCase(),l=e.toLowerCase();n.includes(l)?"none"==document.getElementById("beers").children[t].style.display&&(document.getElementById("beers").children[t].style.display="inline-block"):document.getElementById("beers").children[t].style.display="none"}else if(""==e)for(var s=0;s<beerList.length;s++)document.getElementById("beers").children[s].style.display="inline-block"}var beerList=[],search="";window.onload(function(){RecipesLoad(),IsLoggedIn()});
"use strict";function UserLoad(){GetRequest("/api/me",void 0,function(e,n){200===e&&(user=JSON.parse(n),document.getElementById("username").innerHTML="Welcome back, "+user.username)})}var user={};window.onload(function(){UserLoad(),IsLoggedIn()});